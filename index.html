<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CasinoOnline – Paleta Negro & Dorado</title>
  <style>
    :root{
      /* Config inicial borders */
      --surface-border-color: #333; /* igual que --color-mid, en HEX para el color picker */
      --surface-border-width: 1px;
      /* Colores Identidad principal */
      --color-brand-bg: #1a1a1a; /* Fondo global */
      --color-brand-surface: #333; /* Superficies, tarjetas */
      --color-white: #FFFFFF; /* color de uso general */
      --color-black: #000000; /* color de uso general */

      /* Oro */
      --color-gold: #ff9500; /* Dorado principal */
      --color-gold-600: #ce7700; /* Dorado intenso */
      --color-gold-700: #b96b00; /* Dorado oscuro */
      --color-gold-800: #a35d00; /* Dorado profundo */

      /* Secundarios / soporte / solidos */
      --color-muted: #A1A1A1; /* Texto secundario */
      --color-mid: #2B2B2B; /* Bordes sutiles */
      --color-green: #0bb552; /* CTA/éxito */
      --color-blue: #2563EB; /* Info/links */
      --color-purple: #9333EA; /* VIP */
      --color-red: #DC2626; /* Error */

      /* Gradientes Oro actuales */
      --grad-gold: linear-gradient(90deg,#C08400,#FACC15);
      --grad-gold-soft: linear-gradient(135deg, #B08D18, #FFE680);
      --grad-gold-angled: linear-gradient(120deg, #4A3A0A, #B08D18 35%, #FFE680 70%, #C9A500);
      --grad-gold-intense: linear-gradient(90deg, #665000 0%, #C9A500 50%, #F7CB07 100%);

      /* Degradados de la 1ª paleta (incluidos) */
      --grad-green: linear-gradient(90deg,#16A34A,#4ADE80);
      --grad-blue: linear-gradient(90deg,#1D4ED8,#60A5FA);
      --grad-purple: linear-gradient(90deg,#7E22CE,#C084FC);

      /* Tipografía – tokens */
      --font-heading: "Alan Sans", ui-sans-serif, system-ui; /* encabezados / titulos */
      --font-ui: "Poppins", ui-sans-serif, system-ui; /* general */
      --font-deco: "Bebas Neue", cursive; /* decorativa / promociones / numeros */
      --fw-heading: 800; /* 700/800 sugerido */
      --fw-body: 400;    /* 400/500/600/700 */
      --lh-heading: 1.15; /* LH = line-height */
      --lh-body: 1.5;
      /* Escala (Desktop / Mobile) */
      --fs-h1-d: 56px; --fs-h1-m: 34px; /* 52–60 / 32–36 */
      --fs-h2-d: 36px; --fs-h2-m: 26px; /* 32–40 / 24–28 */
      --fs-h3-d: 26px; --fs-h3-m: 19px; /* 24–28 / 18–20 */
      --fs-body-d: 17px; --fs-body-m: 15px; /* 16–18 / 14–16 */

      /* Layout tokens */
      --radius-xl: 16px;
      --radius-lg: 12px;
      --radius-md: 10px;
      --gap: 14px;
      --shadow: 0 14px 28px rgba(0,0,0,.45), 0 2px 6px rgba(0,0,0,.35);
      --shadow-soft: 0 10px 18px rgba(0,0,0,.35), 0 1px 3px rgba(0,0,0,.35);
    }

    /* Global layout helpers */
    *, *::before, *::after{ box-sizing: border-box; }

    /* Viewport preview switch */
    :root[data-vw="desktop"]{ --fs-h1: var(--fs-h1-d); --fs-h2: var(--fs-h2-d); --fs-h3: var(--fs-h3-d); --fs-body: var(--fs-body-d); }
    :root[data-vw="mobile"]{ --fs-h1: var(--fs-h1-m); --fs-h2: var(--fs-h2-m); --fs-h3: var(--fs-h3-m); --fs-body: var(--fs-body-m); }

    html, body { height: 100%; }
    body{
      margin:0;
      background: radial-gradient(1200px 800px at 10% -10%, rgba(201,165,0,.08), transparent 40%), var(--color-brand-bg);
      font-family: var(--font-ui);
      color: var(--color-white);
      letter-spacing:.2px;
    }

    .container{max-width:1200px; margin: 40px auto; padding: 0 20px;}

    .title{font-size: 28px; font-weight: 900; margin:0 0 8px; background: var(--grad-gold); -webkit-background-clip:text; background-clip:text; color:transparent; font-family: var(--font-heading)}
    .subtitle{color: var(--color-muted); margin:0 0 24px}

    .section{margin-top: 34px}
    .section h2{font-size:20px; margin:0 0 12px; color: var(--color-gold); font-family: var(--font-heading); font-weight: var(--fw-heading)}

    .grid{display:grid; grid-template-columns: repeat( auto-fit, minmax(260px, 1fr) ); gap: var(--gap);}

    .card{background: var(--color-brand-surface); border: 1px solid var(--color-mid); border-radius: var(--radius-xl); overflow: hidden; box-shadow: var(--shadow-soft)}
    .swatch{height:110px; display:flex; align-items:flex-end; justify-content:space-between; padding:10px}
    .content{padding: 14px 14px 12px;}
    .token{font-weight:800; font-size:14px}
    .meta{color: var(--color-muted); font-size: 12px; margin-top:6px}

    .row{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}

    .btn{appearance:none; border:0; border-radius: 10px; padding:10px 12px; cursor:pointer; font-weight:800; text-transform: uppercase}
    .btn.copy{background:#0f0f0f; color:var(--color-muted); border:1px solid var(--color-mid)}
    .btn.copy:hover{filter: brightness(1.08)}

    /* Playground */
    .panel{background: var(--color-brand-bg); padding:16px; border-radius: var(--radius-lg); border:1px solid var(--color-mid)}
    .soft{color: var(--color-muted)}
    .input{width:100%; background:#0f0f0f; color:var(--color-white); border:1px solid var(--color-mid); padding:10px 12px; border-radius:10px}
    .input::placeholder{color:#7d7d7d}

    .cta{background: var(--grad-gold); color:#120d00; box-shadow: 0 0 0 1px rgba(0,0,0,.35) inset; font-family: var(--font-ui); font-weight: 800}
    .cta:hover{filter:brightness(1.06)}

    .link{font-weight:800; text-decoration:none; background: var(--grad-gold-soft); -webkit-background-clip:text; background-clip:text; color:transparent}
    .link:hover{text-decoration:underline}

    .badge{display:inline-block; font-weight:900; padding:6px 10px; border-radius:999px; background: var(--grad-gold-intense); color:#fff; border:1px solid rgba(255,255,255,.06)}

    .alert{border-left: 6px solid var(--color-red); background: #2a1212; color:#ffdede; padding:12px; border-radius: var(--radius-md)}

    .card-demo{background:#0f0f0f; border:1px solid var(--color-mid); border-radius: var(--radius-lg); overflow:hidden}
    .card-demo .head{height:90px; background: var(--grad-gold-angled)}
    .card-demo .body{padding:12px}

    .money{margin-top:8px; font-size:24px; font-weight:900; background: var(--grad-gold); -webkit-background-clip:text; background-clip:text; color:transparent}

    /* Gradient cards */
    .g{height:100px; border-radius: var(--radius-lg); box-shadow: var(--shadow); border:1px solid rgba(255,255,255,.06)}
    .g.gold{background: var(--grad-gold)}
    .g.gold-soft{background: var(--grad-gold-soft)}
    .g.gold-angled{background: var(--grad-gold-angled)}
    .g.black-gold{background: var(--grad-gold-intense)}
    .g.green{background: var(--grad-green)}
    .g.blue{background: var(--grad-blue)}
    .g.purple{background: var(--grad-purple)}

    .kbd{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; background:#0f0f0f; border:1px solid var(--color-mid); padding:2px 6px; border-radius:6px; font-size:12px}

    .footer{margin:40px 0 20px; text-align:center; color: var(--color-muted); font-size:12px}

    /* Tuner */
    .tuner-grid{display:grid; grid-template-columns: repeat(auto-fit, minmax(230px, 1fr)); gap: var(--gap); margin-top:10px; align-items:stretch}
    .tuner-item{background: var(--color-brand-surface); border: var(--surface-border-width) solid var(--surface-border-color); border-radius:12px; padding:12px; overflow:hidden}
    .tuner-item label{display:block; font-size:12px; color:var(--color-muted); margin-bottom:6px}
    .tuner-row{display:flex; align-items:center; gap:10px; flex-wrap:wrap; width:100%}
    .tuner-row > *{min-width:0; max-width:100%}
    .tuner-row input[type="text"], .tuner-row select{flex:1 1 160px; width:100%; background:#0f0f0f; color:#fff; border: var(--surface-border-width) solid var(--surface-border-color); border-radius:8px; padding:8px}
    .tuner-row input[type="color"]{flex:0 0 42px; width:42px; height:34px; background:transparent; border:0; padding:0}
    .tuner-row input[type="range"]{flex:1 1 160px}
    .tuner-actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
    .btn.secondary{background:#0f0f0f; color:#fff; border: var(--surface-border-width) solid var(--surface-border-color)}

    /* Tipografía */
    h1.demo, h2.demo, h3.demo { font-family: var(--font-heading); font-weight: var(--fw-heading); line-height: var(--lh-heading); margin: 6px 0; }
    h1.demo{ font-size: var(--fs-h1); }
    h2.demo{ font-size: var(--fs-h2); }
    h3.demo{ font-size: var(--fs-h3); }
    p.demo{ font-family: var(--font-ui); font-weight: var(--fw-body); line-height: var(--lh-body); font-size: var(--fs-body); margin: 6px 0; }
    .banner-deco{ font-family: var(--font-deco); font-size: clamp(24px, 5vw, 40px); letter-spacing:.5px; background: var(--grad-gold); -webkit-background-clip:text; background-clip:text; color:transparent; font-weight:700 }

    /* Accesibilidad */
    :focus-visible{ outline: 2px dashed var(--color-gold); outline-offset: 3px; }

    /* Icon grid */
    .icons-grid {
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    }
    .icon-card {
      background: var(--color-brand-surface);
      border: 1px solid var(--color-mid);
      border-radius: 12px;
      padding: 12px;
      display: grid;
      grid-template-rows: 1fr auto auto;
      gap: 8px;
      cursor: pointer;
      transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
    }
    .icon-card:hover {
      transform: translateY(-1px);
      box-shadow: var(--shadow-soft);
      border-color: var(--color-gold-700, var(--color-gold));
    }
    .icon-preview {
      display:flex; align-items:center; justify-content:center;
      min-height:56px; font-size:28px; color:#fff;
    }
    .icon-preview svg { width:28px; height:28px; stroke: currentColor; }
    .icon-name {
      font-size:12px; color: var(--color-muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .icon-snippet {
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-size:11px; color:#ddd; background:#0f0f0f; border:1px solid var(--color-mid);
      border-radius:6px; padding:4px 6px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }

    .icons-selected-grid { grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); margin-top: 15px; }

    .icon-picked {
      background: var(--color-brand-surface);
      border: 1px solid var(--color-mid);
      border-radius: 12px;
      padding: 10px;
      display: grid;
      grid-template-rows: auto auto 1fr;
      gap: 6px;
    }

    .icon-picked .preview {
      display:flex; align-items:center; justify-content:center;
      min-height:48px; font-size:28px; color:#fff;
    }
    .icon-picked .preview svg { width:28px; height:28px; stroke: currentColor; }

    .icon-picked .name {
      font-size:12px; color: var(--color-muted);
      white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }

    .icon-picked .row { margin-top: 0; }

    .icon-card.selected {
      outline: 2px solid var(--color-gold-700, var(--color-gold));
      outline-offset: 2px;
    }

    .preview-card i { vertical-align: -2px; }
    .preview-card i, .preview-card svg {
      color: var(--preview-icon-color, #fff);
      stroke: var(--preview-icon-color, #fff);
      width: var(--preview-icon-size, 24px);
      height: var(--preview-icon-size, 24px);
      font-size: var(--preview-icon-size, 24px);
    }
    /* Secciones colapsables */
    .section h2{
      display:flex; align-items:center; gap:8px;
      cursor:pointer; user-select:none;
    }
    .section h2 .caret{
      display:inline-block; font-size:14px;
      color: var(--color-muted); transition: transform .15s ease;
    }
    .section.is-collapsed h2 .caret{ transform: rotate(-90deg); }

    /* Oculta TODO menos el h2 cuando está colapsada */
    .section.is-collapsed > :not(h2){ display:none !important; }

    /* Accesibilidad al enfocarlo con teclado */
    .section h2:focus-visible{
      outline: 2px dashed var(--color-gold); outline-offset: 4px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="title">Paleta Negro & Dorado</h1>
    <p class="subtitle">Identidad principal centrada en negro y dorado. Incluye ejemplos UI, degradados oro y los degradados de la primera paleta (verde, azul, púrpura y dorado v1). Además, un "Tuner" para ajustar variables y degradados en vivo. <strong>LH</strong> = <em>line-height</em>.</p>
    <div class="tuner-actions" id="collapseToolbar" style="margin-top:-8px">
      <button class="btn secondary" id="collapseAll">Colapsar todo</button>
      <button class="btn cta" id="expandAll">Expandir todo</button>
    </div>
    <!-- Swatches -->
    <div class="section">
      <h2>Tokens de color</h2>
      <div class="grid" id="swatches"></div>
    </div>

    <!-- Gradients actuales (Oro) -->
    <div class="section">
      <h2>Degradados Oro</h2>
      <div class="grid">
        <div class="card"><div class="swatch g gold"></div><div class="content"><div class="token">--grad-gold</div><div class="meta">linear-gradient(90deg, var(--color-gold-700), var(--color-gold))</div><div class="row"><button class="btn copy" data-copy="var(--grad-gold)">Copiar variable</button></div></div></div>
        <div class="card"><div class="swatch g gold-soft"></div><div class="content"><div class="token">--grad-gold-soft</div><div class="meta">linear-gradient(135deg, #B08D18, #FFE680)</div><div class="row"><button class="btn copy" data-copy="var(--grad-gold-soft)">Copiar variable</button></div></div></div>
        <div class="card"><div class="swatch g gold-angled"></div><div class="content"><div class="token">--grad-gold-angled</div><div class="meta">linear-gradient(120deg, #4A3A0A, #B08D18 35%, #FFE680 70%, #C9A500)</div><div class="row"><button class="btn copy" data-copy="var(--grad-gold-angled)">Copiar variable</button></div></div></div>
        <div class="card"><div class="swatch g black-gold"></div><div class="content"><div class="token">--grad-gold-intense</div><div class="meta">linear-gradient(90deg, #0B0B0B, #1E1E1E 30%, #C9A500 85%)</div><div class="row"><button class="btn copy" data-copy="var(--grad-gold-intense)">Copiar variable</button></div></div></div>
      </div>
    </div>

    <!-- Gradients de la paleta original -->
    <div class="section">
      <h2>Degradados – Paleta original</h2>
      <div class="grid">
        <div class="card"><div class="swatch g green"></div><div class="content"><div class="token">--grad-green</div><div class="meta">linear-gradient(90deg,#16A34A,#4ADE80)</div><div class="row"><button class="btn copy" data-copy="var(--grad-green)">Copiar variable</button></div></div></div>
        <div class="card"><div class="swatch g blue"></div><div class="content"><div class="token">--grad-blue</div><div class="meta">linear-gradient(90deg,#1D4ED8,#60A5FA)</div><div class="row"><button class="btn copy" data-copy="var(--grad-blue)">Copiar variable</button></div></div></div>
        <div class="card"><div class="swatch g purple"></div><div class="content"><div class="token">--grad-purple</div><div class="meta">linear-gradient(90deg,#7E22CE,#C084FC)</div><div class="row"><button class="btn copy" data-copy="var(--grad-purple)">Copiar variable</button></div></div></div>
      </div>
    </div>

    <!-- Iconos – Selector -->
    <div class="section" id="iconsSection">
      <h2>Iconos (Bootstrap Icons + Lucide)</h2>
      <div class="panel">
        <div class="tuner-row">
          <select id="iconLibrary" class="tuner-text" style="max-width:200px">
            <option value="bi">Bootstrap Icons</option>
            <option value="lucide">Lucide (SVG)</option>
          </select>
          <select id="copyMode" class="tuner-text" style="max-width:220px">
            <option value="html">Copiar: HTML</option>
            <option value="vue">Copiar: Vue</option>
          </select>
          <input id="iconSearch" class="input" placeholder="Buscar (ej. crown, trophy, wallet, dice)">
        </div>

        <div class="grid icons-grid" id="iconsGrid" style="margin-top:12px"></div>

        <div class="soft" style="margin-top:10px">
          Consejo: en <strong>HTML</strong> copia <code>&lt;i class="bi bi-...">&lt;/i></code> (Bootstrap) o
          <code>&lt;i data-lucide="...">&lt;/i></code> (Lucide) + <code>lucide.createIcons()</code>.<br>
          En <strong>Vue</strong> (opción “Copiar: Vue”), Bootstrap se usa igual; Lucide sugiere
          <code>lucide-vue-next</code> (componente).
        </div>
      </div>
    </div>

    <!-- Iconos seleccionados -->
    <div class="section" id="iconsSelection">
      <h2>Iconos seleccionados</h2>
      <div class="tuner-actions mb-2">
        <button class="btn secondary" id="clearSelected">Limpiar</button>
        <button class="btn cta" id="exportIcons">Exportar JSON</button>
      </div>
      <div class="grid icons-selected-grid " id="iconsSelected"></div>
    </div>

    <!-- Previsualización de componentes -->
    <div class="section" id="iconsPreview">
      <h2>Previsualización en componentes</h2>
      <div class="panel">
        <div class="tuner-row">
          <label class="soft">Tamaño</label>
          <input id="iconSize" type="range" min="16" max="64" value="24" />
          <label class="soft">Color</label>
          <input id="iconColor" type="color" value="#FFFFFF" />
          <label class="soft">Posición en botón</label>
          <select id="iconPlacement">
            <option value="left" selected>Izquierda</option>
            <option value="right">Derecha</option>
          </select>
        </div>

        <div class="grid preview-grid" style="margin-top:12px">
          <div class="panel preview-card">
            <div class="soft">Botón</div>
            <button class="btn cta" id="previewButton">
              <i class="bi bi-star-fill"></i> CTA
            </button>
          </div>

          <div class="panel preview-card">
            <div class="soft">Navbar</div>
            <nav class="preview-navbar" id="previewNavbar" style="display:flex; gap:14px; flex-wrap:wrap; margin-top:6px">
              <a class="link" href="#"><i class="bi bi-house"></i> Inicio</a>
              <a class="link" href="#"><i class="bi bi-controller"></i> Juegos</a>
              <a class="link" href="#"><i class="bi bi-wallet2"></i> Billetera</a>
            </nav>
          </div>

          <div class="panel preview-card">
            <div class="soft">Label / Badge</div>
            <span class="badge" id="previewBadge">
              <i class="bi bi-trophy-fill"></i> VIP
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- Tipografía -->
    <div class="section">
      <h2>Tipografía (Google Fonts)</h2>
      <div class="grid">
        <div class="panel">
          <div class="soft">Vista previa</div>
          <h1 class="demo">H1 (Hero / Promo) – ¡Gana en grande!</h1>
          <h2 class="demo">H2 (Sección) – Próximos eventos</h2>
          <h3 class="demo">H3 (Tarjeta) – Jackpot semanal</h3>
          <p class="demo">Body – Montserrat Regular. Este texto sirve para evaluar legibilidad en UI (mínimo 16px, alto contraste, <em>focus visible</em>).</p>
          <div class="banner-deco" aria-label="Decorativa">Campaña exclusiva • Bono Dorado •  +400 -200</div>
          <div class="row" style="margin-top:10px">
            <button class="btn cta">CTA / Botón</button>
            <a href="#" class="link">Link de prueba</a>
          </div>
        </div>
        <div class="panel">
          <div class="soft">Escala sugerida</div>
          <div style="overflow:auto">
            <table style="width:100%; border-collapse:collapse; font-size:13px">
              <thead>
                <tr style="color:var(--color-muted)">
                  <th style="text-align:left; padding:6px; border-bottom:1px solid var(--color-mid)">Elemento</th>
                  <th style="text-align:left; padding:6px; border-bottom:1px solid var(--color-mid)">Familia / Peso</th>
                  <th style="text-align:left; padding:6px; border-bottom:1px solid var(--color-mid)">Desktop</th>
                  <th style="text-align:left; padding:6px; border-bottom:1px solid var(--color-mid)">Mobile</th>
                  <th style="text-align:left; padding:6px; border-bottom:1px solid var(--color-mid)">Nota</th>
                </tr>
              </thead>
              <tbody>
                <tr><td style="padding:6px">H1 (Hero/Promo)</td><td style="padding:6px">Alan Sans <strong>Bold</strong></td><td style="padding:6px">52–60px</td><td style="padding:6px">32–36px</td><td style="padding:6px">LH 1.1–1.2</td></tr>
                <tr><td style="padding:6px">H2 (Sección)</td><td style="padding:6px">Alan Sans <strong>Bold</strong></td><td style="padding:6px">32–40px</td><td style="padding:6px">24–28px</td><td style="padding:6px"></td></tr>
                <tr><td style="padding:6px">H3 (Tarjeta)</td><td style="padding:6px">Alan Sans <strong>SemiBold</strong></td><td style="padding:6px">24–28px</td><td style="padding:6px">18–20px</td><td style="padding:6px"></td></tr>
                <tr><td style="padding:6px">Body</td><td style="padding:6px">Poppins <strong>Regular</strong></td><td style="padding:6px">16–18px</td><td style="padding:6px">14–16px</td><td style="padding:6px"><strong>LH 1.5</strong></td></tr>
                <tr><td style="padding:6px">CTA/Botón</td><td style="padding:6px">Poppins <strong>Bold</strong></td><td style="padding:6px">16–18px</td><td style="padding:6px">16–18px</td><td style="padding:6px">MAYÚSCULAS</td></tr>
              </tbody>
            </table>
          </div>
          <div class="soft" style="margin-top:8px">*Puedes alternar entre vista <span class="kbd">desktop</span> y <span class="kbd">mobile</span> para ver el efecto.</div>
        </div>
      </div>

      <!-- Typo Tuner -->
      <div class="tuner-grid" style="margin-top:10px">
        <div class="tuner-item">
          <label>Familia encabezados (Heading)</label>
          <div class="tuner-row">
            <input list="font-suggestions" id="fontHeading" class="tuner-text" value="Alan Sans" />
            <select id="fwHeading" class="tuner-text">
              <option value="700">700</option>
              <option value="800" selected>800</option>
            </select>
          </div>
        </div>
        <div class="tuner-item">
          <label>Familia UI / Body</label>
          <div class="tuner-row">
            <input list="font-suggestions" id="fontBody" class="tuner-text" value="Poppins" />
            <select id="fwBody" class="tuner-text">
              <option value="400" selected>400</option>
              <option value="500">500</option>
              <option value="600">600</option>
              <option value="700">700</option>
            </select>
          </div>
        </div>
        <div class="tuner-item">
          <label>Decorativa (campañas)</label>
          <div class="tuner-row">
            <input list="font-suggestions" id="fontDeco" class="tuner-text" value="Bebas Neue" />
          </div>
        </div>
        <div class="tuner-item">
          <label>Line-height (LH) encabezados / body</label>
          <div class="tuner-row">
            <input type="text" id="lhHeading" class="tuner-text" value="1.15" />
            <input type="text" id="lhBody" class="tuner-text" value="1.5" />
          </div>
        </div>
        <div class="tuner-item">
          <label>Tamaños Desktop (H1/H2/H3/Body)</label>
          <div class="tuner-row">
            <input type="text" id="fsH1D" class="tuner-text" value="56px" />
            <input type="text" id="fsH2D" class="tuner-text" value="36px" />
            <input type="text" id="fsH3D" class="tuner-text" value="26px" />
            <input type="text" id="fsBodyD" class="tuner-text" value="17px" />
          </div>
        </div>
        <div class="tuner-item">
          <label>Tamaños Mobile (H1/H2/H3/Body)</label>
          <div class="tuner-row">
            <input type="text" id="fsH1M" class="tuner-text" value="34px" />
            <input type="text" id="fsH2M" class="tuner-text" value="26px" />
            <input type="text" id="fsH3M" class="tuner-text" value="19px" />
            <input type="text" id="fsBodyM" class="tuner-text" value="15px" />
          </div>
        </div>
        <div class="tuner-item">
          <label>Vista previa</label>
          <div class="tuner-row">
            <select id="vwSwitch" class="tuner-text">
              <option value="desktop" selected>Desktop</option>
              <option value="mobile">Mobile</option>
            </select>
            <button class="btn secondary" id="applyRecommended">Aplicar escala sugerida</button>
          </div>
        </div>
        <div class="tuner-item">
          <label>Añadir familia personalizada (Google Fonts)</label>
          <div class="tuner-row">
            <input type="text" id="customFamily" class="tuner-text" placeholder="Ej: Poppins" />
            <input type="text" id="customWeights" class="tuner-text" placeholder="Pesos: 400;500;700" />
            <button class="btn secondary" id="addFamily">Añadir</button>
          </div>
        </div>
      </div>
      <div class="tuner-actions">
        <button class="btn secondary" id="resetFonts">Restablecer tipografías</button>
        <button class="btn cta" id="exportCSS">Exportar CSS</button>
      </div>

      <datalist id="font-suggestions">
        <option value="Alan Sans"></option>
        <option value="Montserrat"></option>
        <option value="Solitreo"></option>
        <option value="Iansui"></option>
        <option value="Alumni Sans"></option>
        <option value="Bebas Neue"></option>
        <option value="Oswald"></option>
        <option value="Poppins"></option>
        <option value="Inter"></option>
        <option value="Roboto"></option>
      </datalist>
    </div>

    <!-- Playground / usage examples -->
    <div class="section">
      <h2>Ejemplos de uso</h2>
      <div class="grid">
        <div class="panel">
          <div class="soft">Botones & Links</div>
          <div class="row" style="margin-top:8px">
            <button class="btn cta">Depositar</button>
            <a href="#" class="link">Ver evento en vivo</a>
            <span class="badge">VIP</span>
            <span class="badge">Casino Online</span>
          </div>
        </div>
        <div class="panel">
          <div class="soft">Formulario</div>
          <input class="input" placeholder="Buscar partido o casino" />
        </div>
        <div class="panel">
          <div class="soft">Alerta</div>
          <div class="alert" style="margin-top:8px">Saldo insuficiente. <span style="color:#fff">Deposite</span> para continuar.</div>
        </div>
        <div class="panel">
          <div class="soft">Card Jackpot</div>
          <div class="card-demo" style="margin-top:8px">
            <div class="head"></div>
            <div class="body">
              <div style="font-weight:900; letter-spacing:.3px; font-family: var(--font-heading); line-height: var(--lh-heading); font-size: var(--fs-h2)">Jackpot Semanal</div>
              <div class="soft" style="font-family: var(--font-ui); line-height: var(--lh-body); font-size: var(--fs-body)">Premio acumulado</div>
              <div class="money">$1,250,000</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Theme Tuner (colores & degradados) -->
    <div class="section">
      <h2>Ajustador dinámico (Tuner)</h2>
      <p class="soft">Modifica colores y degradados en vivo. Útil para probar otras tonalidades (p. ej., oro más cálido o negros más fríos). Puedes exportar el tema a JSON.</p>
      <div class="tuner-grid" id="tunerColors"></div>
      <div class="tuner-grid" id="tunerGradients" style="margin-top:10px"></div>
      <div class="tuner-grid" id="tunerBorders" style="margin-top:10px"></div>
      <div class="tuner-actions">
        <button class="btn secondary" id="resetTheme">Restablecer</button>
        <button class="btn cta" id="exportTheme">Exportar JSON</button>
      </div>
    </div>

    <div class="footer">© CasinoOnline UI • Paleta Negro & Dorado con Tuner</div>
  </div>

  <!-- Bootstrap Icons (para <i class="bi bi-...">) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <!-- Lucide (para <i data-lucide="..."> + lucide.createIcons()) -->
  <script defer src="https://unpkg.com/lucide@latest"></script>


  <!-- Google Fonts dynamic link will be injected here -->

  <script>
    // Utility to read CSS vars
    function cssVar(name){
      return getComputedStyle(document.documentElement).getPropertyValue(name).trim();
    }

    // === SWATCHES ===
    const TOKENS = [
      { name: '--color-brand-bg', usage: 'Fondo global' },
      { name: '--color-brand-surface', usage: 'Superficies / paneles' },
      { name: '--color-white', usage: 'Texto primario' },
      { name: '--color-gold', usage: 'Dorado principal' },
      { name: '--color-gold-600', usage: 'Dorado intenso' },
      { name: '--color-gold-700', usage: 'Dorado oscuro' },
      { name: '--color-gold-800', usage: 'Dorado profundo' },
      { name: '--color-muted', usage: 'Texto secundario' },
      { name: '--color-mid', usage: 'Bordes sutiles' },
      { name: '--color-green', usage: 'Acciones/éxito' },
      { name: '--color-blue', usage: 'Links/info' },
      { name: '--color-purple', usage: 'VIP' },
      { name: '--color-red', usage: 'Error/alerta' },
    ];

    const swatches = document.getElementById('swatches');

    function appropriateTextColor(hex){
      const c = (hex||'').replace('#','');
      if(c.length !== 6) return '#fff';
      const r = parseInt(c.substring(0,2),16)/255;
      const g = parseInt(c.substring(2,4),16)/255;
      const b = parseInt(c.substring(4,6),16)/255;
      const srgb = [r,g,b].map(v => (v <= 0.03928 ? v/12.92 : Math.pow((v+0.055)/1.055, 2.4)));
      const L = 0.2126*srgb[0] + 0.7152*srgb[1] + 0.0722*srgb[2];
      return L > 0.6 ? '#151515' : '#ffffff';
    }

    function renderSwatches(){
      swatches.innerHTML = '';
      TOKENS.forEach(t => {
        const value = cssVar(t.name);
        const card = document.createElement('div');
        card.className = 'card';
        const textColor = /^#/.test(value) ? appropriateTextColor(value) : '#fff';
        card.innerHTML = `
          <div class="swatch" style="background:${value}; color:${textColor}">
            <span style="font-weight:900; font-size:12px">${t.name}</span>
            <span style="font-family:ui-monospace,monospace; font-size:12px; opacity:.95">${value}</span>
          </div>
          <div class="content">
            <div class="token">${t.name}</div>
            <div class="meta">${t.usage}</div>
            <div class="row">
              <button class="btn copy" data-copy="${t.name}">Copiar variable</button>
              <button class="btn copy" data-copy="${value}">Copiar valor</button>
            </div>
          </div>`;
        swatches.appendChild(card);
      });
    }

    // === COPY ===
    document.addEventListener('click', (e)=>{
      const btn = e.target.closest('.btn.copy');
      if(!btn) return;
      const val = btn.getAttribute('data-copy');
      navigator.clipboard.writeText(val).then(()=>{
        const old = btn.textContent;
        btn.textContent = 'Copiado!';
        setTimeout(()=> btn.textContent = old, 900);
      }).catch(()=>{ alert('No se pudo copiar'); })
    })

    // === THEME TUNER (colores & degradados) ===
    const colorVars = ['--color-brand-bg','--color-brand-surface','--color-white','--color-gold','--color-gold-600','--color-gold-700','--color-gold-800','--color-green','--color-blue','--color-purple','--color-red'];
    const gradientVars = ['--grad-gold','--grad-gold-soft','--grad-gold-angled','--grad-gold-intense','--grad-green','--grad-blue','--grad-purple'];
    const borderVars = [
      { name: '--surface-border-color', kind: 'color',  default: '#2B2B2B' },
      { name: '--surface-border-width', kind: 'length', default: '1px' }
    ];

    const initialTheme = {};
    [...colorVars, ...gradientVars, ...borderVars.map(b=>b.name)].forEach(v => {
      const def = borderVars.find(b => b.name === v)?.default;
      const val = cssVar(v);
      initialTheme[v] = val || def || '';
    });

    const tunerColors = document.getElementById('tunerColors');
    const tunerGradients = document.getElementById('tunerGradients');
    const tunerBorders = document.getElementById('tunerBorders');

    function hexOrEmpty(val){ return /^#([0-9a-f]{3}){1,2}$/i.test(val)? val : '' }
    function clamp(n, min, max){ n = parseFloat(n); if(isNaN(n)) return min; return Math.max(min, Math.min(max, n)); }

    function splitLinearGradient(str){
      const prefix = 'linear-gradient(';
      if(!str || !str.trim().toLowerCase().startsWith(prefix)) return null;
      const inside = str.trim().slice(prefix.length, -1); // sin "linear-gradient(" y ")"
      const comma = inside.indexOf(',');
      if (comma === -1) return null;

      const first = inside.slice(0, comma).trim(); // ángulo o dirección
      const rest  = inside.slice(comma+1).trim();  // paradas de color

      let angle = null;
      const m = first.match(/^([0-9.]+)deg$/i);
      if (m) angle = parseFloat(m[1]);

      // Direcciones comunes → ángulo
      if (angle === null){
        const d = first.toLowerCase();
        if (d === 'to right')  angle = 90;
        else if (d === 'to bottom') angle = 180;
        else if (d === 'to left')   angle = 270;
        else if (d === 'to top')    angle = 0;
      }
      return { angle, rest };
    }

    function updateLinearGradientAngle(str, deg){
      const p = splitLinearGradient(str);
      if(!p) return str;
      const a = clamp(deg, 0, 360);
      return `linear-gradient(${a}deg, ${p.rest})`;
    }


    function renderColorTuner(){
      // Colores
      tunerColors.innerHTML = '';
      colorVars.forEach(v =>{
        const value = cssVar(v);
        const item = document.createElement('div');
        item.className = 'tuner-item';
        item.innerHTML = `
          <label>${v}</label>
          <div class="tuner-row">
            <input type="color" value="${hexOrEmpty(value)}" data-var="${v}" class="tuner-color" />
            <input type="text" value="${value}" data-var="${v}" class="tuner-text" />
          </div>`;
        tunerColors.appendChild(item);
      });
      // Gradientes con control de ángulo
      tunerGradients.innerHTML = '';
      gradientVars.forEach(v =>{
        const value = cssVar(v);
        const parts = splitLinearGradient(value) || { angle: 90 };
        const item = document.createElement('div');
        item.className = 'tuner-item';
        item.innerHTML = `
          <label>${v}</label>
          <div class="tuner-row">
            <input type="range" min="0" max="360" step="1" value="${parts.angle ?? 90}" data-var="${v}" class="grad-angle" />
            <input type="text" value="${value}" data-var="${v}" class="tuner-text" />
          </div>
          <div class="swatch" style="height:48px; background:${value}; border-radius:8px; margin-top:8px"></div>`;
        tunerGradients.appendChild(item);
      });
      // Bordes
      tunerBorders.innerHTML = '';
      borderVars.forEach(({name, kind})=>{
        const value = cssVar(name) || borderVars.find(b=>b.name===name)?.default || '';
        const item = document.createElement('div');
        item.className = 'tuner-item';

        if (kind === 'color'){
          item.innerHTML = `
            <label>${name}</label>
            <div class="tuner-row">
              <input type="color" value="${hexOrEmpty(value)}" data-var="${name}" class="tuner-color" />
              <input type="text"   value="${value}"            data-var="${name}" class="tuner-text" />
            </div>`;
        } else {
          const num = parseInt(value, 10);
          item.innerHTML = `
            <label>${name}</label>
            <div class="tuner-row">
              <input type="range" min="0" max="8" step="1" value="${isNaN(num)?1:num}" data-var="${name}" class="tuner-range" />
              <input type="text"  value="${value||'1px'}"   data-var="${name}" class="tuner-length" placeholder="Ej: 1px" />
            </div>`;
        }
        tunerBorders.appendChild(item);
      });
    }

    function setVar(name, value){
      document.documentElement.style.setProperty(name, value);
      renderSwatches();
    }

    document.addEventListener('input', (e)=>{
      // Color picker → texto/var/preview
      if (e.target.matches('.tuner-color')){
        const name = e.target.getAttribute('data-var');
        const val  = e.target.value;
        const item = e.target.closest('.tuner-item');

        // sincroniza input de texto
        const text = item?.querySelector('.tuner-text');
        if (text) text.value = val;

        // aplica variable
        setVar(name, val);

        // actualiza preview si existe (gradientes no aplican aquí)
        const preview = item?.querySelector('.swatch');
        if (preview) preview.style.background = val;
      }
      // NUEVO: slider de ángulo para gradientes → actualiza texto / var / preview
      if (e.target.matches('.grad-angle')) {
        const name = e.target.getAttribute('data-var');
        const item = e.target.closest('.tuner-item');
        const text = item.querySelector('.tuner-text'); // input del gradiente
        const newVal = updateLinearGradientAngle(text.value, e.target.value);
        text.value = newVal;
        setVar(name, newVal);
        const preview = item.querySelector('.swatch');
        if (preview) preview.style.background = newVal;
      }
      // Texto → aplica (hex/gradiente/borde)
      if(e.target.matches('.tuner-text')){
        const name = e.target.getAttribute('data-var');
        const val = e.target.value;
        setVar(name, val);
        // Si hay color picker hermano y es HEX válido, sincronízalo
        const item = e.target.closest('.tuner-item');
        const colorInput = item?.querySelector('.tuner-color');
        if(colorInput && /^#([0-9a-f]{3}){1,2}$/i.test(val)) colorInput.value = val;
        // Si hay preview (gradiente), actualízalo
        const preview = item?.querySelector('.swatch');
        if(preview) preview.style.background = val;
        // NUEVO: si este texto es un linear-gradient, sincroniza el slider de ángulo
        const angle = item?.querySelector('.grad-angle');
        if (angle) {
          const p = splitLinearGradient(val);
          if (p && typeof p.angle === 'number') angle.value = p.angle;
        }
      }
      // Slider (border width) → texto
      if(e.target.matches('.tuner-range')){
        const name = e.target.getAttribute('data-var');
        const val = `${e.target.value}px`;
        const paired = e.target.parentElement.querySelector('.tuner-length');
        paired.value = val;
        setVar(name, val);
      }
      // Texto (border width) → slider
      if(e.target.matches('.tuner-length')){
        const name = e.target.getAttribute('data-var');
        let v = e.target.value.trim();
        if(/^\d+$/.test(v)) v = v + 'px';
        const num = parseInt(v,10);
        const rng = e.target.parentElement.querySelector('.tuner-range');
        if(rng && !isNaN(num)) rng.value = num;
        e.target.value = v;
        setVar(name, v);
      }
    });

    document.getElementById('resetTheme')?.addEventListener('click', ()=>{
      Object.entries(initialTheme).forEach(([k,v])=> document.documentElement.style.setProperty(k, v));
      renderSwatches();
      renderColorTuner();
    });

    document.getElementById('exportTheme')?.addEventListener('click', ()=>{
      const out = {};
      [...colorVars, ...gradientVars, ...borderVars.map(b=>b.name)].forEach(v => out[v] = cssVar(v));
      const blob = new Blob([JSON.stringify(out, null, 2)], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'casino-theme.json'; a.click();
      URL.revokeObjectURL(url);
    });

    // Init colors
    renderSwatches();
    renderColorTuner();

    // === TYPOGRAPHY LOADER / TUNER ===
    const linkId = 'gfonts-link';
    const vwSwitch = document.getElementById('vwSwitch');
    const applyRecommended = document.getElementById('applyRecommended');
    const exportCSS = document.getElementById('exportCSS');

    const inputs = {
      heading: document.getElementById('fontHeading'),
      fwHeading: document.getElementById('fwHeading'),
      body: document.getElementById('fontBody'),
      fwBody: document.getElementById('fwBody'),
      deco: document.getElementById('fontDeco'),
      lhHeading: document.getElementById('lhHeading'),
      lhBody: document.getElementById('lhBody'),
      fsH1D: document.getElementById('fsH1D'), fsH1M: document.getElementById('fsH1M'),
      fsH2D: document.getElementById('fsH2D'), fsH2M: document.getElementById('fsH2M'),
      fsH3D: document.getElementById('fsH3D'), fsH3M: document.getElementById('fsH3M'),
      fsBodyD: document.getElementById('fsBodyD'), fsBodyM: document.getElementById('fsBodyM'),
      customFamily: document.getElementById('customFamily'),
      customWeights: document.getElementById('customWeights'),
      addFamily: document.getElementById('addFamily')
    };

    // Families config → { name: Set(weights) }
    const fonts = new Map([
      ['Alan Sans', new Set([700,800])],
      ['Poppins', new Set([400,500,600,700])],
      ['Bebas Neue', new Set()],
      ['Iansui', new Set()],
    ]);

    function gfName(name){ return (name||'').trim().replace(new RegExp(' +','g'), '+'); }

    function buildGFontsURL(){
      const families = [];
      fonts.forEach((weights, name)=>{
        if(!name) return;
        const w = [...weights].sort().join(';');
        families.push(`family=${gfName(name)}${w?`:wght@${w}`:''}`);
      });
      if(!families.length) return '';
      return `https://fonts.googleapis.com/css2?${families.join('&')}&display=swap`;
    }

    function ensureGFontsLink(){
      let link = document.getElementById(linkId);
      const href = buildGFontsURL();
      if(!href) return;
      if(!link){
        link = document.createElement('link');
        link.rel = 'stylesheet';
        link.id = linkId;
        document.head.appendChild(link);
      }
      link.href = href;
    }

    function applyFontVars(){
      document.documentElement.style.setProperty('--font-heading', `'${inputs.heading.value}', ui-sans-serif, system-ui`);
      document.documentElement.style.setProperty('--font-ui', `'${inputs.body.value}', ui-sans-serif, system-ui`);
      document.documentElement.style.setProperty('--font-deco', `'${inputs.deco.value}', cursive`);
      document.documentElement.style.setProperty('--fw-heading', inputs.fwHeading.value);
      document.documentElement.style.setProperty('--fw-body', inputs.fwBody.value);
      document.documentElement.style.setProperty('--lh-heading', inputs.lhHeading.value);
      document.documentElement.style.setProperty('--lh-body', inputs.lhBody.value);
      document.documentElement.style.setProperty('--fs-h1-d', inputs.fsH1D.value);
      document.documentElement.style.setProperty('--fs-h1-m', inputs.fsH1M.value);
      document.documentElement.style.setProperty('--fs-h2-d', inputs.fsH2D.value);
      document.documentElement.style.setProperty('--fs-h2-m', inputs.fsH2M.value);
      document.documentElement.style.setProperty('--fs-h3-d', inputs.fsH3D.value);
      document.documentElement.style.setProperty('--fs-h3-m', inputs.fsH3M.value);
      document.documentElement.style.setProperty('--fs-body-d', inputs.fsBodyD.value);
      document.documentElement.style.setProperty('--fs-body-m', inputs.fsBodyM.value);
    }

    function addOrUpdateFamily(name, weightsArray){
      if(!name) return;
      if(!fonts.has(name)) fonts.set(name, new Set());
      const set = fonts.get(name);
      (weightsArray||[]).forEach(w => { const n = parseInt(w,10); if(!isNaN(n)) set.add(n); });
      ensureGFontsLink();
    }

    // --- Reset de tipografías ---
    const resetFontsBtn = document.getElementById('resetFonts');

    const initialFonts = {
      heading: 'Alan Sans',   fwHeading: '800',
      body: 'Poppins',     fwBody: '400',
      deco: 'Bebas Neue',
      lhHeading: '1.15',      lhBody: '1.5',
      fsH1D: '56px', fsH1M: '34px',
      fsH2D: '36px', fsH2M: '26px',
      fsH3D: '26px', fsH3M: '19px',
      fsBodyD: '17px', fsBodyM: '15px',
      vw: 'desktop'
    };

    function resetFonts(){
      // Restablecer inputs
      inputs.heading.value  = initialFonts.heading;
      inputs.fwHeading.value= initialFonts.fwHeading;
      inputs.body.value     = initialFonts.body;
      inputs.fwBody.value   = initialFonts.fwBody;
      inputs.deco.value     = initialFonts.deco;

      inputs.lhHeading.value= initialFonts.lhHeading;
      inputs.lhBody.value   = initialFonts.lhBody;

      inputs.fsH1D.value = initialFonts.fsH1D; inputs.fsH1M.value = initialFonts.fsH1M;
      inputs.fsH2D.value = initialFonts.fsH2D; inputs.fsH2M.value = initialFonts.fsH2M;
      inputs.fsH3D.value = initialFonts.fsH3D; inputs.fsH3M.value = initialFonts.fsH3M;
      inputs.fsBodyD.value= initialFonts.fsBodyD; inputs.fsBodyM.value= initialFonts.fsBodyM;

      // Vista (desktop/mobile)
      document.documentElement.setAttribute('data-vw', initialFonts.vw);
      if (vwSwitch) vwSwitch.value = initialFonts.vw;

      // Reconstruir familias para Google Fonts
      fonts.clear();
      fonts.set('Alan Sans',  new Set([700,800]));
      fonts.set('Poppins', new Set([400,500,600,700]));
      fonts.set('Bebas Neue',   new Set());
      fonts.set('Iansui',     new Set());

      ensureGFontsLink();
      applyFontVars();
    }

    resetFontsBtn?.addEventListener('click', resetFonts);


    // Listeners tipografía
    ['change','input'].forEach(ev =>{
      inputs.heading.addEventListener(ev, ()=>{ addOrUpdateFamily(inputs.heading.value, [inputs.fwHeading.value]); applyFontVars(); });
      inputs.fwHeading.addEventListener(ev, ()=>{ addOrUpdateFamily(inputs.heading.value, [inputs.fwHeading.value]); applyFontVars(); });
      inputs.body.addEventListener(ev, ()=>{ addOrUpdateFamily(inputs.body.value, [inputs.fwBody.value]); applyFontVars(); });
      inputs.fwBody.addEventListener(ev, ()=>{ addOrUpdateFamily(inputs.body.value, [inputs.fwBody.value]); applyFontVars(); });
      inputs.deco.addEventListener(ev, ()=>{ addOrUpdateFamily(inputs.deco.value, []); applyFontVars(); });
      inputs.lhHeading.addEventListener(ev, applyFontVars);
      inputs.lhBody.addEventListener(ev, applyFontVars);
      inputs.fsH1D.addEventListener(ev, applyFontVars);
      inputs.fsH1M.addEventListener(ev, applyFontVars);
      inputs.fsH2D.addEventListener(ev, applyFontVars);
      inputs.fsH2M.addEventListener(ev, applyFontVars);
      inputs.fsH3D.addEventListener(ev, applyFontVars);
      inputs.fsH3M.addEventListener(ev, applyFontVars);
      inputs.fsBodyD.addEventListener(ev, applyFontVars);
      inputs.fsBodyM.addEventListener(ev, applyFontVars);
    });

    inputs.addFamily.addEventListener('click', ()=>{
      const name = inputs.customFamily.value.trim();
      const raw = inputs.customWeights.value || '';
      const weights = raw.replace(/,/g,';').split(';').map(s=>s.trim()).filter(Boolean);
      addOrUpdateFamily(name, weights);
      inputs.customFamily.value=''; inputs.customWeights.value='';
    });

    applyRecommended?.addEventListener('click', ()=>{
      inputs.fsH1D.value = '56px'; inputs.fsH1M.value = '34px';
      inputs.fsH2D.value = '36px'; inputs.fsH2M.value = '26px';
      inputs.fsH3D.value = '26px'; inputs.fsH3M.value = '19px';
      inputs.fsBodyD.value = '17px'; inputs.fsBodyM.value = '15px';
      inputs.lhHeading.value = '1.15'; inputs.lhBody.value = '1.5';
      applyFontVars();
    });

    vwSwitch?.addEventListener('change', ()=>{
      document.documentElement.setAttribute('data-vw', vwSwitch.value);
    });

    exportCSS?.addEventListener('click', ()=>{
      const href = document.getElementById(linkId)?.href || buildGFontsURL();
      const css = `@import url('${href}');\n\n:root{\n  --font-heading: '${inputs.heading.value}', ui-sans-serif, system-ui;\n  --font-ui: '${inputs.body.value}', ui-sans-serif, system-ui;\n  --font-deco: '${inputs.deco.value}', cursive;\n  --fw-heading: ${inputs.fwHeading.value};\n  --fw-body: ${inputs.fwBody.value};\n  --lh-heading: ${inputs.lhHeading.value};\n  --lh-body: ${inputs.lhBody.value};\n  --fs-h1-d: ${inputs.fsH1D.value}; --fs-h1-m: ${inputs.fsH1M.value};\n  --fs-h2-d: ${inputs.fsH2D.value}; --fs-h2-m: ${inputs.fsH2M.value};\n  --fs-h3-d: ${inputs.fsH3D.value}; --fs-h3-m: ${inputs.fsH3M.value};\n  --fs-body-d: ${inputs.fsBodyD.value}; --fs-body-m: ${inputs.fsBodyM.value};\n}`;
      const blob = new Blob([css], {type:'text/css'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'typography.css'; a.click();
      URL.revokeObjectURL(url);
    });

    // Initial setup
    document.documentElement.setAttribute('data-vw','desktop');
    addOrUpdateFamily('Alan Sans', [700,800]);
    addOrUpdateFamily('Poppins', [400,500,600,700]);
    addOrUpdateFamily('Bebas Neue', []);
    addOrUpdateFamily('Iansui', []);
    ensureGFontsLink();
    applyFontVars();
  </script>
  <script>
  (() => {
    "use strict";

    // --- Bootstrap Icons: cargar TODOS los nombres automáticamente ---
    let ICONS_BI = [];
    let BI_LIST_READY = false;

    async function loadBootstrapIconNames() {
      const href = "https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css";
      const res = await fetch(href);
      const css = await res.text();

      // Extrae .bi-<nombre>::before  → <nombre>
      const re = /\.bi-([a-z0-9-]+)::before/g;
      const set = new Set();
      let m;
      while ((m = re.exec(css))) set.add(m[1]);

      ICONS_BI = [...set].sort();
      BI_LIST_READY = true;
    }


    const ICONS_LUCIDE = [
      'trophy','award','gift','star','crown','gem','coins',
      'wallet','credit-card','dice-5','gamepad','ticket',
      'bolt','flame','rocket','line-chart',
      'shield-check','message-circle','bell','megaphone','sparkles'
    ];

    const els = {
      grid: document.getElementById('iconsGrid'),
      lib: document.getElementById('iconLibrary'),
      q: document.getElementById('iconSearch'),
      copyMode: document.getElementById('copyMode'),
    };

    function escapeHtml(s){
      return s.replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
    }

    function getIconsFor(lib){
      return lib === 'lucide' ? ICONS_LUCIDE : ICONS_BI;
    }

    function toPascal(name){
      return name.replace(/(^|[-_]\s*)(\w)/g, (_, __, c)=> (c||'').toUpperCase()).replace(/[-_]/g,'');
    }

    function buildSnippet(lib, name, mode){
      if (lib === 'bi') {
        return `<i class="bi bi-${name}"></i>`;
      } else {
        if (mode === 'vue') return `<${toPascal(name)} :size="24" />`;
        return `<i data-lucide="${name}"></i>`;
      }
    }

    async function ensureBI(){
      if (!BI_LIST_READY) {
        const placeholder = '<div class="soft" style="padding:8px">Cargando íconos de Bootstrap…</div>';
        if (els.grid) els.grid.innerHTML = placeholder;
        await loadBootstrapIconNames();
      }
    }

    async function renderIcons(){
      if (!els.grid) return;
      const lib = els.lib?.value || 'bi';
      const mode = els.copyMode?.value || 'html';
      const q = (els.q?.value || '').trim().toLowerCase();
      if (lib === 'bi' && !BI_LIST_READY) {
        await ensureBI();
      }

      const list = getIconsFor(lib).filter(n => n.includes(q));
      const MAX = 14;                // cambia 300 por el tope que quieras
      const visible = list.slice(0, MAX);

      els.grid.innerHTML = '';
      visible.forEach(name => {
        const snippet = buildSnippet(lib, name, mode);
        const card = document.createElement('button');
        card.type = 'button';
        card.className = 'icon-card';
        card.setAttribute('data-copy', snippet);
        card.dataset.lib = lib;   // 'bi' o 'lucide'
        card.dataset.name = name; // nombre del ícono
        card.title = name; 

        const preview = (lib === 'bi')
          ? `<i class="bi bi-${name}"></i>`
          : `<i data-lucide="${name}"></i>`;

        card.innerHTML = `
          <div class="icon-preview">${preview}</div>
          <div class="icon-name">${name}</div>
          <div class="icon-snippet">${escapeHtml(snippet)}</div>
        `;
        els.grid.appendChild(card);
      });

      // Render de Lucide una vez inyectado
      if (window.lucide && (els.lib?.value === 'lucide')) {
        window.lucide.createIcons();
      }
    }

    // Copiar snippet al hacer click
    document.addEventListener('click', (e)=>{
      const card = e.target.closest('.icon-card');
      if (!card) return;
      const text = card.getAttribute('data-copy') || '';
      navigator.clipboard.writeText(text).then(()=>{
        const nameEl = card.querySelector('.icon-name');
        const old = nameEl.textContent;
        nameEl.textContent = '¡Copiado!';
        setTimeout(()=> nameEl.textContent = old, 900);
      }).catch(()=> alert('No se pudo copiar'));
    });

    // Eventos de la UI de iconos (si existen)
    ['input','change'].forEach(ev => {
      els.lib?.addEventListener(ev, renderIcons);
      els.q?.addEventListener(ev, renderIcons);
      els.copyMode?.addEventListener(ev, renderIcons);
    });

    // Primera render
    renderIcons();
    loadBootstrapIconNames().then(renderIcons);
  })(); /* <-- cierre correcto del IIFE */
  </script>
  <script>
  (() => {
    // Estado de seleccionados: [{lib:'bi'|'lucide', name:'crown'}]
    const picked = [];

    const els = {
      bucket: document.getElementById('iconsSelected'),
      clear: document.getElementById('clearSelected'),
      export: document.getElementById('exportIcons'),
      size: document.getElementById('iconSize'),
      color: document.getElementById('iconColor'),
      placement: document.getElementById('iconPlacement'),
      previewBtn: document.getElementById('previewButton'),
      previewNav: document.getElementById('previewNavbar'),
      previewBadge: document.getElementById('previewBadge'),
    };

    function inBucket(lib, name){
      return picked.findIndex(i => i.lib===lib && i.name===name);
    }
    function togglePick(lib, name){
      const idx = inBucket(lib, name);
      if (idx === -1) picked.push({lib, name});
      else picked.splice(idx, 1);
      renderBucket();
      updatePreview();
    }

    function iconHTML(lib, name){
      return lib === 'bi'
        ? `<i class="bi bi-${name}"></i>`
        : `<i data-lucide="${name}"></i>`;
    }

    function renderBucket(){
      if (!els.bucket) return;
      els.bucket.innerHTML = '';
      picked.forEach(({lib, name}, i) => {
        const card = document.createElement('div');
        card.className = 'icon-picked';
        card.innerHTML = `
          <div class="preview">${iconHTML(lib, name)}</div>
          <div class="name">${lib}:${name}</div>
          <div class="row">
            <button class="btn secondary" data-remove="${i}">Quitar</button>
          </div>
        `;
        els.bucket.appendChild(card);
      });
      // Re-render Lucide si aplica
      if (window.lucide) window.lucide.createIcons();

      // Marcar seleccionados también en el grid principal (si existe)
      document.querySelectorAll('.icon-card').forEach(card => {
        const sel = inBucket(card.dataset.lib, card.dataset.name) !== -1;
        card.classList.toggle('selected', sel);
      });
    }

    function updatePreview(){
      // aplica tamaño / color globales
      const size = `${els.size?.value || 24}px`;
      const color = els.color?.value || '#FFFFFF';
      document.documentElement.style.setProperty('--preview-icon-size', size);
      document.documentElement.style.setProperty('--preview-icon-color', color);

      // elegir íconos para cada preview con fallback
      const a = picked[0] || {lib:'bi', name:'star-fill'};
      const b = picked[1] || {lib:'bi', name:'controller'};
      const c = picked[2] || {lib:'bi', name:'trophy-fill'};

      // Botón: posición
      if (els.previewBtn){
        const label = 'CTA';
        els.previewBtn.innerHTML = els.placement?.value === 'right'
          ? `${label} ${iconHTML(a.lib, a.name)}`
          : `${iconHTML(a.lib, a.name)} ${label}`;
      }

      // Navbar: usa 3
      if (els.previewNav){
        els.previewNav.innerHTML = `
          <a class="link" href="#">${iconHTML(a.lib, a.name)} Opción A</a>
          <a class="link" href="#">${iconHTML(b.lib, b.name)} Opción B</a>
          <a class="link" href="#">${iconHTML(c.lib, c.name)} Opción C</a>
        `;
      }

      // Badge
      if (els.previewBadge){
        els.previewBadge.innerHTML = `${iconHTML(c.lib, c.name)} Destacado`;
      }

      // Render Lucide dentro del preview si es necesario
      if (window.lucide) window.lucide.createIcons();
    }

    // Exportar JSON de seleccionados
    els.export?.addEventListener('click', () => {
      const payload = picked.map(x => ({ library: x.lib, name: x.name }));
      const blob = new Blob([JSON.stringify(payload, null, 2)], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'selected-icons.json'; a.click();
      URL.revokeObjectURL(url);
    });

    // Limpiar
    els.clear?.addEventListener('click', () => {
      picked.splice(0, picked.length);
      renderBucket();
      updatePreview();
    });

    // Controles de preview
    ['input','change'].forEach(ev => {
      els.size?.addEventListener(ev, updatePreview);
      els.color?.addEventListener(ev, updatePreview);
      els.placement?.addEventListener(ev, updatePreview);
    });

    // Selección desde el grid principal:
    //  - Doble click → seleccionar/quitar
    //  - Click con Ctrl/Meta/Shift → seleccionar/quitar (conserva tu click normal para copiar)
    document.addEventListener('dblclick', (e)=>{
      const card = e.target.closest('.icon-card');
      if (!card) return;
      togglePick(card.dataset.lib, card.dataset.name);
    });
    document.addEventListener('click', (e)=>{
      const card = e.target.closest('.icon-card');
      if (!card) return;
      if (e.ctrlKey || e.metaKey || e.shiftKey) {
        e.preventDefault();
        togglePick(card.dataset.lib, card.dataset.name);
      }
    });

    // Quitar desde la bandeja
    document.addEventListener('click', (e)=>{
      const btn = e.target.closest('[data-remove]');
      if (!btn) return;
      const idx = parseInt(btn.getAttribute('data-remove'), 10);
      if (!isNaN(idx)) {
        picked.splice(idx, 1);
        renderBucket();
        updatePreview();
      }
    });

    // Primera pasada
    renderBucket();
    updatePreview();
  })();
  </script>
  <script>
  (() => {
    // Convierte cada .section con h2 en colapsable
    const sections = Array.from(document.querySelectorAll('.section'));
    sections.forEach((sec, idx) => {
      const h2 = sec.querySelector(':scope > h2');
      if (!h2) return;

      // Inserta caret si no existe
      if (!h2.querySelector('.caret')) {
        const caret = document.createElement('span');
        caret.className = 'caret';
        caret.textContent = '▾';
        h2.prepend(caret);
      }

      // Preparar como "botón"
      h2.setAttribute('role', 'button');
      h2.setAttribute('tabindex', '0');

      // Persistencia por título
      const key = 'coll:' + (h2.textContent.trim() || idx);
      const saved = localStorage.getItem(key);
      const collapsed = saved === '0';
      sec.classList.toggle('is-collapsed', collapsed);
      h2.setAttribute('aria-expanded', String(!collapsed));

      function toggle(){
        const nowCollapsed = sec.classList.toggle('is-collapsed');
        h2.setAttribute('aria-expanded', String(!nowCollapsed));
        localStorage.setItem(key, nowCollapsed ? '0' : '1');
      }

      h2.addEventListener('click', toggle);
      h2.addEventListener('keydown', (e)=>{
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggle(); }
      });
    });

    // Controles globales (si existe la barra)
    const toolbar = document.getElementById('collapseToolbar');
    if (toolbar) {
      toolbar.querySelector('#collapseAll')?.addEventListener('click', ()=>{
        document.querySelectorAll('.section').forEach((sec, i)=>{
          const h2 = sec.querySelector(':scope > h2'); if (!h2) return;
          sec.classList.add('is-collapsed');
          h2.setAttribute('aria-expanded','false');
          const key = 'coll:' + (h2.textContent.trim() || i);
          localStorage.setItem(key, '0');
        });
      });
      toolbar.querySelector('#expandAll')?.addEventListener('click', ()=>{
        document.querySelectorAll('.section').forEach((sec, i)=>{
          const h2 = sec.querySelector(':scope > h2'); if (!h2) return;
          sec.classList.remove('is-collapsed');
          h2.setAttribute('aria-expanded','true');
          const key = 'coll:' + (h2.textContent.trim() || i);
          localStorage.setItem(key, '1');
        });
      });
    }
  })();
  </script>
</body>
</html>